{% extends "base.html" %}
{% block title %}Socios{% endblock %}

{% block content %}
<h2 class="mb-4">Listado de Socios</h2>

<a href="{{ url_for('socios_agregar') }}" class="btn btn-primary mb-3">Agregar Socio</a>

<table class="table table-dark table-bordered table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Email</th>
            <th>Teléfono</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        {% for s in socios %}
        <tr>
            <td>{{ s.id_socio }}</td>
            <td>{{ s.nombre }}</td>
            <td>{{ s.apellido }}</td>
            <td>{{ s.email }}</td>
            <td>{{ s.telefono }}</td>

            <td>
                <a href="{{ url_for('socios_editar', id=s.id_socio) }}" class="btn btn-warning btn-sm w-100 mb-1">Editar</a>

                <a href="{{ url_for('socios_eliminar', id=s.id_socio) }}" class="btn btn-danger btn-sm w-100 mb-1">Eliminar</a>

                <!-- RENOVAR: Sin parámetro (correcto) -->
                <a href="{{ url_for('renovar_membresia') }}" 
                   class="btn btn-success btn-sm w-100 mb-1">Renovar</a>

                <!-- RESERVAR: Con parámetro (causa error) -->
                <!-- ❌ QUITAR el id_socio -->
                <a href="{{ url_for('reservar_clase') }}"
                   class="btn btn-info btn-sm w-100 mb-1 text-white">Reservar Clase</a>

                <a href="{{ url_for('acceso', id_socio=s.id_socio) }}"
                   class="btn btn-secondary btn-sm w-100">Acceso</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="mt-4 text-center">
            <a href="{{ url_for('socios_lista') }}" class="btn btn-outline-light btn-sm me-2">Socios</a>
            <a href="{{ url_for('planes_lista') }}" class="btn btn-outline-light btn-sm me-2">Planes</a>
            <a href="{{ url_for('pagos_lista') }}" class="btn btn-outline-light btn-sm me-2">Pagos</a>
            <a href="{{ url_for('clases_lista') }}" class="btn btn-outline-light btn-sm">Clases</a>
            <a href="{{ url_for('reservas_lista') }}" class="btn btn-outline-light btn-sm">Reservas</a>
</div>
{% endblock %}